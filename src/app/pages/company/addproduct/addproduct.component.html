<div class="flex justify-content-center mt-5">
    <div class="w-9 card p-4">
        <form [formGroup]="productForm">
            <div class="grid p-fluid">
                <!-- Name Field -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <input 
                            id="name"
                            class="inputStyles" 
                            pInputText 
                            formControlName="name"
                            [ngClass]="{'is-invalid': name.invalid && (name.dirty || name.touched)}"
                        />
                        <label for="name">Name</label>
                        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="error-message">
                            {{ name.errors | json }}
                        </div>
                    </p-floatLabel>
                </div>

                <!-- Description Field -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <input 
                            id="description"
                            class="inputStyles" 
                            pInputText 
                            formControlName="description"
                        />
                        <label for="description">Description</label>
                    </p-floatLabel>
                </div>

                <!-- Price Field -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <p-inputNumber 
                            id="price"
                            class="inputStyles" 
                            formControlName="price"
                            [minFractionDigits]="2"
                            [maxFractionDigits]="2"
                            [ngClass]="{'is-invalid': price.invalid && (price.dirty || price.touched)}"
                        ></p-inputNumber>
                        <label for="price">Price</label>
                    </p-floatLabel>
                </div>

                <!-- Product Code Field -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <input 
                            id="productCode"
                            class="inputStyles" 
                            pInputText 
                            formControlName="productCode"
                        />
                        <label for="productCode">Product Code</label>
                    </p-floatLabel>
                </div>

                <!-- Stock Field -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <p-inputNumber 
                            id="stock"
                            class="inputStyles" 
                            formControlName="stock" 
                            [min]="0"
                        ></p-inputNumber>
                        <label for="stock">Stock</label>
                    </p-floatLabel>
                </div>

                <!-- Category Dropdown -->
                <div class="col-12 md:col-6 mb-4">
                    <p-floatLabel>
                        <p-dropdown 
                            id="categoryId"
                            [options]="categories" 
                            optionLabel="name" 
                            formControlName="categoryId"
                        ></p-dropdown>
                        <label for="categoryId">Category</label>
                    </p-floatLabel>
                </div>

                <!-- File Upload -->
                <div class="col-12 mb-4">
                    <p-fileUpload 
                        mode="advanced" 
                        name="productImages" 
                        multiple="true" 
                        maxFileSize="1000000"
                        chooseLabel="Ürün Resmi Ekle"
                        uploadLabel="Upload"
                        cancelLabel="İptal Et"
                        (onUpload)="onUpload($event)"
                        (onSelect)="onSelect($event)"
                        (onRemove)="onRemove($event)"
                        [showUploadButton]="false"
                    ></p-fileUpload>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="mt-4">
                <p-button 
                    label="Kaydet" 
                    icon="pi pi-check" 
                    type="submit"
                    (onClick)="submitForm()"
                    class="w-full"
                ></p-button>
            </div>
        </form>
    </div>
</div>

<style>
    .inputStyles {
        height: 40px;
        width: 100%;
        padding: 5px;
        border: 1px solid #ced4da;
        border-radius: 8px;
        transition: border-color 0.3s;
    }

    .inputStyles:focus {
        border-color: #007bff;
        outline: none;
    }

    .is-invalid {
        border-color: #dc3545;
    }

    .error-message {
        color: #dc3545;
        font-size: 12px;
        margin-top: 4px;
    }

    .card {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        background-color: #fff;
    }

    .mt-4 {
        margin-top: 16px;
    }

    .mb-4 {
        margin-bottom: 16px;
    }
</style>
